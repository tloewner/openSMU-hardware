Version 4
SHEET 1 2784 1252
WIRE -272 -720 -272 -752
WIRE -128 -720 -128 -752
WIRE 16 -720 16 -752
WIRE 160 -720 160 -752
WIRE -272 -608 -272 -640
WIRE -128 -608 -128 -640
WIRE 16 -608 16 -640
WIRE 160 -608 160 -640
WIRE 432 -320 432 -368
WIRE 432 -320 240 -320
WIRE 240 -272 240 -320
WIRE -496 -256 -496 -320
WIRE -256 -192 -320 -192
WIRE -80 -192 -176 -192
WIRE 432 -192 432 -320
WIRE -880 -176 -880 -208
WIRE 240 -144 240 -192
WIRE 368 -144 240 -144
WIRE -496 -112 -496 -176
WIRE 240 -96 240 -144
WIRE -880 -64 -880 -96
WIRE -560 -64 -880 -64
WIRE -80 -48 -80 -192
WIRE 48 -48 -80 -48
WIRE 160 -48 128 -48
WIRE 176 -48 160 -48
WIRE -768 48 -768 16
WIRE 240 48 240 0
WIRE 432 48 432 -96
WIRE 432 48 240 48
WIRE 1792 96 1568 96
WIRE 2016 96 1872 96
WIRE -880 112 -880 -64
WIRE 160 112 160 -48
WIRE 336 112 160 112
WIRE -80 128 -80 -48
WIRE -80 128 -208 128
WIRE 32 128 -80 128
WIRE -768 160 -768 128
WIRE -768 160 -816 160
WIRE -208 160 -208 128
WIRE 160 160 160 112
WIRE 432 160 432 48
WIRE 432 160 400 160
WIRE -768 192 -768 160
WIRE 432 192 432 160
WIRE 1376 192 1056 192
WIRE 1568 192 1568 96
WIRE 1568 192 1440 192
WIRE 1792 224 1680 224
WIRE 2016 224 2016 96
WIRE 2016 224 1872 224
WIRE 2160 224 2016 224
WIRE -80 240 -80 128
WIRE 32 256 32 128
WIRE -1088 288 -1136 288
WIRE -880 288 -1008 288
WIRE -768 288 -768 256
WIRE -720 288 -768 288
WIRE -592 288 -640 288
WIRE -496 288 -496 -16
WIRE -320 288 -320 -192
WIRE -320 288 -496 288
WIRE -208 288 -208 240
WIRE -144 288 -208 288
WIRE 160 288 160 224
WIRE 240 288 160 288
WIRE 336 288 336 208
WIRE 432 288 432 272
WIRE 432 288 336 288
WIRE 1376 288 432 288
WIRE 1680 288 1680 224
WIRE 1680 288 1440 288
WIRE 2016 288 2016 224
WIRE 2240 288 2240 256
WIRE 240 304 240 288
WIRE 432 304 432 288
WIRE 2160 304 2160 224
WIRE 2192 304 2160 304
WIRE -768 320 -768 288
WIRE 160 320 160 288
WIRE -592 336 -592 288
WIRE -208 336 -208 288
WIRE 2192 352 2160 352
WIRE 336 368 336 288
WIRE -1136 384 -1136 288
WIRE 656 384 576 384
WIRE 688 384 656 384
WIRE 848 384 768 384
WIRE 1376 384 848 384
WIRE 1680 384 1440 384
WIRE -768 416 -768 384
WIRE -768 416 -816 416
WIRE 432 416 432 384
WIRE 432 416 400 416
WIRE 2240 432 2240 368
WIRE -768 448 -768 416
WIRE -592 448 -592 416
WIRE -208 448 -208 416
WIRE -80 448 -80 336
WIRE -80 448 -208 448
WIRE 32 448 32 320
WIRE 32 448 -80 448
WIRE 576 448 576 384
WIRE 1680 448 1680 384
WIRE 1792 448 1680 448
WIRE 2016 448 2016 368
WIRE 2016 448 1872 448
WIRE 2160 448 2160 352
WIRE 2160 448 2016 448
WIRE 160 464 160 384
WIRE 336 464 160 464
WIRE 656 464 656 384
WIRE 848 464 848 384
WIRE 1376 480 1248 480
WIRE 1392 480 1376 480
WIRE 1568 480 1440 480
WIRE -1136 528 -1136 464
WIRE 432 528 432 416
WIRE 432 528 240 528
WIRE -768 560 -768 528
WIRE 240 576 240 528
WIRE 1568 576 1568 480
WIRE 1792 576 1568 576
WIRE 2016 576 2016 448
WIRE 2016 576 1872 576
WIRE -496 592 -496 288
WIRE -80 624 -80 448
WIRE 48 624 -80 624
WIRE 160 624 160 464
WIRE 160 624 128 624
WIRE 176 624 160 624
WIRE -880 640 -880 464
WIRE -560 640 -880 640
WIRE -880 656 -880 640
WIRE 432 672 432 528
WIRE -80 720 -80 624
WIRE 240 720 240 672
WIRE 368 720 240 720
WIRE -496 752 -496 688
WIRE -880 768 -880 736
WIRE 240 768 240 720
WIRE 1056 800 1056 192
WIRE -496 896 -496 832
WIRE 240 896 240 848
WIRE 432 896 432 768
WIRE 432 896 240 896
WIRE 1056 912 1056 880
WIRE 1056 912 928 912
WIRE -80 944 -80 800
WIRE 432 944 432 896
WIRE 1056 976 1056 912
WIRE 1056 1136 1056 1056
WIRE 1056 1136 928 1136
WIRE 1248 1136 1248 480
WIRE 1248 1136 1056 1136
FLAG -128 -608 0
FLAG -272 -752 +VDD
FLAG -128 -752 -VDD
FLAG -272 -608 0
FLAG 432 -368 +VDD
FLAG 432 944 -VDD
FLAG 16 -608 0
FLAG 160 -608 0
FLAG 16 -752 +5V
FLAG 160 -752 -5V
FLAG -1136 528 0
FLAG -80 944 -VDD
FLAG -496 -320 +VDD
FLAG -496 896 -VDD
FLAG -768 16 +5V
FLAG -768 560 -5V
FLAG -880 -208 +VDD
FLAG -880 768 -VDD
FLAG -592 448 0
FLAG 928 912 v_sense+
FLAG 576 448 0
FLAG 928 1136 v_sense-
FLAG 2240 432 0
FLAG 2240 256 v_load
FLAG 848 464 i_sense+
FLAG 656 464 i_sense-
FLAG 240 304 0
SYMBOL npn 368 672 R0
SYMATTR InstName Q1
SYMATTR Value SC5242
SYMATTR Prefix X
SYMBOL pnp 368 -96 M180
SYMATTR InstName Q2
SYMATTR Value SA1962
SYMATTR Prefix X
SYMBOL voltage -272 -624 R180
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {-v_pre}
SYMBOL voltage -128 -624 R180
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value {v_pre}
SYMBOL res 416 176 R0
SYMATTR InstName R1
SYMATTR Value 200m
SYMBOL res 416 288 R0
SYMATTR InstName R2
SYMATTR Value 200m
SYMBOL npn 400 112 M0
SYMATTR InstName Q3
SYMATTR Value BC547C
SYMBOL pnp 400 464 R180
SYMATTR InstName Q4
SYMATTR Value BC557C
SYMBOL res 2000 272 R0
SYMATTR InstName R8
SYMATTR Value {r_load}
SYMBOL voltage 16 -736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 5
SYMBOL voltage 160 -736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value -5
SYMBOL npn 176 -96 R0
SYMATTR InstName Q5
SYMATTR Value 2N5550
SYMBOL res 224 -288 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL pnp 176 672 M180
SYMATTR InstName Q6
SYMATTR Value 2N5401
SYMBOL res 224 752 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 144 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 3.3k
SYMBOL res 144 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 3.3k
SYMBOL voltage -1136 368 R0
WINDOW 3 24 152 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 1 1000)
SYMATTR Value2 AC 1
SYMATTR InstName V5
SYMBOL npn -144 240 R0
SYMATTR InstName Q7
SYMATTR Value 2N5550
SYMBOL res -224 320 R0
SYMATTR InstName R7
SYMATTR Value 820
SYMBOL res -224 144 R0
SYMATTR InstName R9
SYMATTR Value 720
SYMBOL res -96 704 R0
SYMATTR InstName R10
SYMATTR Value 68k
SYMBOL npn -560 592 R0
SYMATTR InstName Q8
SYMATTR Value 2N5550
SYMBOL res -512 -272 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res -512 736 R0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL pnp -560 -16 M180
SYMATTR InstName Q9
SYMATTR Value 2N5401
SYMBOL npn -816 112 M0
SYMATTR InstName Q10
SYMATTR Value 2N5550
SYMBOL res -784 32 R0
SYMATTR InstName R13
SYMATTR Value 680
SYMBOL diode -784 192 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -784 320 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res -784 432 R0
SYMATTR InstName R14
SYMATTR Value 680
SYMBOL pnp -816 464 R180
SYMATTR InstName Q12
SYMATTR Value 2N5401
SYMBOL res -992 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 5k
SYMBOL res -896 -192 R0
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL res -896 640 R0
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL res -896 192 R0
SYMATTR InstName R18
SYMATTR Value 22
SYMBOL res -896 272 R0
SYMATTR InstName R19
SYMATTR Value 22
SYMBOL res -624 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL voltage -592 320 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V8
SYMATTR Value 2.5
SYMBOL res -160 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 33
SYMBOL res 784 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100m
SYMBOL res 1040 784 R0
SYMATTR InstName R23
SYMATTR Value 9.9Meg
SYMBOL res 1040 960 R0
SYMATTR InstName R24
SYMATTR Value 100k
SYMBOL res 1888 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value {r_cable}
SYMBOL res 1888 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value {r_cable}
SYMBOL Misc\\jumper 1408 224 R0
SYMATTR InstName X1
SYMBOL Misc\\jumper 1408 320 R0
SYMATTR InstName X2
SYMBOL res 1888 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value {r_sense_cable}
SYMBOL res 1888 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value {r_sense_cable}
SYMBOL Misc\\jumper 1408 128 R0
SYMATTR InstName X3
SYMBOL Misc\\jumper 1408 416 R0
SYMATTR InstName X4
SYMBOL e 2240 272 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL cap 16 256 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 144 160 R0
SYMATTR InstName C2
SYMATTR Value 33p
SYMBOL cap 144 320 R0
SYMATTR InstName C3
SYMATTR Value 33p
TEXT 112 968 Left 2 !.include 2SA1962.lib
TEXT 112 992 Left 2 !.include 2SC5242.lib
TEXT 2304 128 Left 2 !.param r_load=200
TEXT -288 -1144 Left 2 !.param v_pre=110
TEXT -1312 1056 Left 2 !.tran 2
TEXT 816 -536 Left 2 ;Instrument Side
TEXT 1464 -536 Left 2 ;Load Side
TEXT 2304 160 Left 2 !.param r_cable=10m
TEXT 2304 192 Left 2 !.param r_sense_cable=100m
TEXT 2368 352 Left 2 !.meas DC load_current AVG I(R22)
LINE Normal 1408 -32 1408 1248 2
LINE Normal 1408 -832 1408 -32 2
